<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="utf-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--    <title>Register | Corona Admin</title>-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">-->
<!--    <style>-->
<!--        body {-->
<!--            background: url('assets/img/register.jpg') no-repeat center center/cover;-->
<!--            height: 100vh;-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            align-items: center;-->
<!--        }-->
<!--        .card {-->
<!--            background-color: rgba(255, 255, 255, 0.9);-->
<!--            color: black;-->
<!--            border-radius: 10px;-->
<!--            padding: 20px;-->
<!--        }-->
<!--        .form-control {-->
<!--            background-color: #f8f9fa;-->
<!--            color: black;-->
<!--            border: 1px solid #ced4da;-->
<!--        }-->
<!--        .form-control:focus {-->
<!--            background-color: #ffffff;-->
<!--            color: black;-->
<!--            border-color: #007bff;-->
<!--            box-shadow: none;-->
<!--        }-->
<!--        .btn-primary {-->
<!--            background-color: #007bff;-->
<!--            border-color: #007bff;-->
<!--        }-->
<!--        .btn-primary:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--        .forgot-pass, .sign-up a, .terms a {-->
<!--            color: #007bff;-->
<!--        }-->
<!--        .forgot-pass:hover, .sign-up a:hover, .terms a:hover {-->
<!--            text-decoration: underline;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container d-flex justify-content-center align-items-center vh-100">-->
<!--    <div class="card col-lg-4">-->
<!--        <div class="card-body">-->
<!--            <h3 class="text-center mb-4">Register</h3>-->
<!--            <form id="register">-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label">Username</label>-->
<!--                    <input type="text" class="form-control" id="username" required>-->
<!--                </div>-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label">Email</label>-->
<!--                    <input type="email" class="form-control" id="email" required>-->
<!--                </div>-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label">Phone Number</label>-->
<!--                    <input type="text" class="form-control" id="phone_number" required>-->
<!--                </div>-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label">Password</label>-->
<!--                    <input type="password" class="form-control" id="password" required>-->
<!--                </div>-->
<!--                <div class="mb-3 form-check">-->
<!--                    <input type="checkbox" class="form-check-input" id="rememberMe">-->
<!--                    <label class="form-check-label" for="rememberMe">Remember me</label>-->
<!--                </div>-->
<!--                <div class="text-center">-->
<!--                    <button type="submit" class="btn btn-primary w-100">Register</button>-->
<!--                </div>-->
<!--                <p class="text-center mt-3">Already have an account? <a href="#">Sign In</a></p>-->
<!--                <p class="text-center">By creating an account you agree to our <a href="#">Terms & Conditions</a></p>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        $("#register").submit(function (event) {-->
<!--            event.preventDefault();-->
<!--            var userData = {-->
<!--                name: $("#username").val(),-->
<!--                email: $("#email").val(),-->
<!--                phoneNumber: $("#phone_number").val(),-->
<!--                password: $("#password").val()-->
<!--            };-->
<!--            $.ajax({-->
<!--                url: "http://localhost:8080/api/v1/user/register",-->
<!--                type: "POST",-->
<!--                contentType: "application/json",-->
<!--                data: JSON.stringify(userData),-->
<!--                success: function (response) {-->
<!--                    alert("Registration successful!");-->
<!--                    window.location.href = "index.html";-->
<!--                },-->
<!--                error: function (xhr) {-->
<!--                    alert("Registration failed: " + xhr.responseText);-->
<!--                }-->
<!--            });-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Register | Corona Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <!-- SweetAlert CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <style>
        body {
            background: url('assets/img/register.jpg') no-repeat center center/cover;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .card {
            background-color: rgba(255, 255, 255, 0.95);
            color: #333;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 450px;
        }
        .form-control {
            background-color: #f8f9fa;
            color: #333;
            border: 1px solid #ced4da;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .form-control:focus {
            background-color: #ffffff;
            color: #333;
            border-color: #007bff;
            box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25);
        }
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #0069d9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }
        .forgot-pass, .sign-up a, .terms a {
            color: #007bff;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        .forgot-pass:hover, .sign-up a:hover, .terms a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
        .form-check-input {
            margin-top: 0.3rem;
        }
        h3 {
            color: #007bff;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }
        .card-body {
            padding: 0;
        }
    </style>
</head>
<body>
<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card">
        <div class="card-body">
            <h3 class="text-center mb-4">Create Account</h3>
            <form id="register">
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" id="username" required placeholder="Enter your username">
                </div>
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" required placeholder="Enter your email">
                </div>
                <div class="mb-3">
                    <label class="form-label">Phone Number</label>
                    <input type="text" class="form-control" id="phone_number" required placeholder="Enter your phone number">
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" required placeholder="Create a password">
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="termsCheck">
                    <label class="form-check-label" for="termsCheck">I agree to the <a href="#" class="terms">Terms & Conditions</a></label>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-primary w-100 py-2">Register</button>
                </div>
                <p class="text-center mt-3">Already have an account? <a href="#" class="sign-up">Sign In</a></p>
            </form>
        </div>
    </div>
</div>

<!-- jQuery and SweetAlert JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    $(document).ready(function () {
        // Terms & Conditions modal
        $(".terms").click(function(e) {
            e.preventDefault();
            Swal.fire({
                title: 'Terms & Conditions',
                html: `
                    <div style="text-align: left; max-height: 400px; overflow-y: auto;">
                        <h5>1. Acceptance of Terms</h5>
                        <p>By registering for an account, you agree to be bound by these Terms and Conditions.</p>

                        <h5>2. Account Registration</h5>
                        <p>You must provide accurate and complete information when creating an account.</p>

                        <h5>3. Privacy Policy</h5>
                        <p>Your personal information will be handled in accordance with our Privacy Policy.</p>

                        <h5>4. User Responsibilities</h5>
                        <p>You are responsible for maintaining the confidentiality of your account credentials.</p>

                        <h5>5. Service Modifications</h5>
                        <p>We reserve the right to modify or discontinue the service at any time.</p>
                    </div>
                `,
                confirmButtonColor: '#007bff',
                confirmButtonText: 'I Understand',
                width: '800px'
            });
        });

        $("#register").submit(function (event) {
            event.preventDefault();

            // Validate terms checkbox
            if (!$("#termsCheck").is(":checked")) {
                Swal.fire({
                    icon: 'error',
                    title: 'Terms Not Accepted',
                    text: 'You must agree to the Terms & Conditions to register.',
                    confirmButtonColor: '#007bff'
                });
                return;
            }

            const username = $("#username").val().trim();
            const email = $("#email").val().trim();
            const phoneNumber = $("#phone_number").val().trim();
            const password = $("#password").val().trim();

            // Basic validation
            if (!username || !email || !phoneNumber || !password) {
                Swal.fire({
                    icon: 'error',
                    title: 'Missing Information',
                    text: 'Please fill in all required fields.',
                    confirmButtonColor: '#007bff'
                });
                return;
            }

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                Swal.fire({
                    icon: 'error',
                    title: 'Invalid Email',
                    text: 'Please enter a valid email address.',
                    confirmButtonColor: '#007bff'
                });
                return;
            }

            // Phone number validation (basic)
            if (phoneNumber.length < 8 || !/^\d+$/.test(phoneNumber)) {
                Swal.fire({
                    icon: 'error',
                    title: 'Invalid Phone Number',
                    text: 'Please enter a valid phone number.',
                    confirmButtonColor: '#007bff'
                });
                return;
            }

            // Password validation
            if (password.length < 6) {
                Swal.fire({
                    icon: 'error',
                    title: 'Weak Password',
                    text: 'Password must be at least 6 characters long.',
                    confirmButtonColor: '#007bff'
                });
                return;
            }

            const userData = {
                name: username,
                email: email,
                phoneNumber: phoneNumber,
                password: password
            };

            // Show loading indicator
            Swal.fire({
                title: 'Creating Account',
                html: 'Please wait while we create your account...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            $.ajax({
                url: "http://localhost:8080/api/v1/user/register",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify(userData),
                success: function (response) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Registration Successful!',
                        html: `
                            <div style="text-align: center;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#007bff" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                </svg>
                                <p class="mt-3">Your account has been created successfully!</p>
                                <p>Welcome, <strong>${username}</strong>!</p>
                            </div>
                        `,
                        confirmButtonColor: '#007bff',
                        confirmButtonText: 'Continue'
                    }).then(() => {
                        window.location.href = "index.html";
                    });
                },
                error: function (xhr) {
                    let errorMessage = "Registration failed. Please try again.";
                    if (xhr.responseJSON && xhr.responseJSON.message) {
                        errorMessage = xhr.responseJSON.message;
                    } else if (xhr.status === 409) {
                        errorMessage = "This email is already registered. Please use a different email or login.";
                    }

                    Swal.fire({
                        icon: 'error',
                        title: 'Registration Failed',
                        text: errorMessage,
                        confirmButtonColor: '#007bff'
                    });
                }
            });
        });
    });
</script>
</body>
</html>
